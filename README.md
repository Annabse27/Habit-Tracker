## Habit Tracker - Курсовой проект

## Описание проекта

**Habit Tracker** – это веб-приложение для отслеживания полезных привычек, разработанное на основе книги Джеймса Клира «Атомные привычки». Приложение помогает пользователям создавать, редактировать и управлять привычками, а также получать напоминания через Telegram.

В рамках данного курсового проекта была реализована бэкенд-часть SPA веб-приложения.

## Реализованные функции

- **Привычки**: Пользователь может создавать привычки, указывая действие, время, место, связанное вознаграждение, а также признак публичности привычки.
- **Приятные и полезные привычки**: Привычки делятся на полезные и приятные, с возможностью привязывать приятные привычки к полезным в качестве вознаграждения.
- **Пагинация**: Реализована пагинация для вывода списка привычек.
- **Интеграция с Telegram**: Уведомления о выполнении привычек отправляются через Telegram.
- **CORS**: Настроен CORS для взаимодействия с фронтендом.
- **Отложенные задачи**: Настроена работа с Celery для отложенных задач напоминаний.
- **Переменные окружения**: Все ключевые настройки проекта управляются через переменные окружения.
- **Покрытие тестами**: Проект покрыт тестами на 96%.
- **Фронтенд и бэкенд взаимодействие**: Проект поддерживает работу с фронтендом через API.

## Стек технологий

- **Django**: Бэкенд приложения.
- **Django REST Framework**: Для создания API.
- **PostgreSQL**: База данных.
- **Celery + Redis**: Для работы с отложенными задачами.
- **Telegram Bot API**: Для интеграции с Telegram.
- **Docker**: Контейнеризация приложения.
- **Poetry**: Управление зависимостями.
- **pytest**: Для тестирования.
- **pytest-cov**: Для измерения покрытия тестами.

## Установка и запуск проекта

### 1. Клонирование репозитория

```bash
git clone https://github.com/Annabse27/Habit-Tracker.git
cd Habit-Tracker
```

### 2. Настройка переменных окружения

Вставьте ваши данные в `.env`, используя шаблон из `.env.example`:

```plaintext
DEBUG=True
SECRET_KEY=your_secret_key
DATABASE_URL=postgres://username:password@db:5432/your_db_name
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
CORS_ALLOWED_ORIGINS=http://localhost:3000
```

### 3. Установка зависимостей

Проект использует **Poetry** для управления зависимостями. Убедитесь, что Poetry установлен, затем выполните:

```bash
poetry install
```

### 4. Запуск с Docker

Проект контейнеризирован, поэтому для запуска нужно использовать Docker Compose:

```bash
docker-compose up --build
```

После этого приложение будет доступно по адресу `http://localhost:8000`.

### 5. Запуск тестов

Для запуска тестов с покрытием выполните:

```bash
docker-compose exec app pytest --cov=. --cov-report=term-missing
```

## API эндпоинты

### Регистрация и авторизация

- `POST /api/auth/register/` - регистрация пользователя.
- `POST /api/auth/login/` - авторизация пользователя.

### Привычки

- `GET /api/habits/` - получить список привычек (с пагинацией).
- `POST /api/habits/` - создать привычку.
- `GET /api/habits/{id}/` - получить информацию о привычке.
- `PUT /api/habits/{id}/` - обновить привычку.
- `DELETE /api/habits/{id}/` - удалить привычку.

### Публичные привычки

- `GET /api/habits/public/` - получить список публичных привычек.

### Уведомления через Telegram

Уведомления о выполнении привычек отправляются через интеграцию с Telegram. Пользователи могут привязать свои аккаунты Telegram к учетной записи через команду `/start`.

## Права доступа

- Каждый пользователь может управлять только своими привычками (CRUD).
- Список публичных привычек доступен для просмотра другим пользователям.

## Линтер и стиль кода

Для проверки соответствия стиля кода проект использует **Flake8**. Для запуска проверки выполните:

```bash
flake8
```

Результат проверки должен быть 100% при исключении миграций.

## Коммиты и версия

Для просмотра коммитов и истории изменений используйте:

```bash
git log
```

Каждый коммит содержит осмысленное описание изменений.

## Лицензия

Проект распространяется под лицензией MIT.
